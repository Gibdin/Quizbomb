| ID  | NAME                           | DESCRIPTION                                        | TRIGGER / INPUT                                                 | EXPECTED RESULT                                                                                                 | PASS/FAIL |
| --- | ------------------------------ | -------------------------------------------------- | --------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- | :-------: |
| S1  | generateCode                   | Always returns a 5-char alphanumeric code          | call `generateCode()`                                           | returns string of length 5 matching `/^[A-Z0-9]{5}$/`                                                           |           |
| S2  | getRoomsData                   | Extracts public room info from in-memory Map       | populate `rooms` Map with 2 room objects, call `getRoomsData()` | returns array of `{code, hostName, playerCount, maxPlayers, isPrivate}`                                         |           |
| S3  | readUsers fallback             | Returns empty array if users DB missing or invalid | delete or corrupt `users.json`, call `readUsers()`              | returns `[]` without throwing                                                                                   |           |
| S4  | writeUsers + readUsers         | Persists and re-reads users array correctly        | call `writeUsers(testArray)`, then `readUsers()`                | `readUsers()` returns the same `testArray`                                                                      |           |
| S5  | POST /api/register (success)   | Registers a new user                               | POST `/api/register` with `{username:"u1",password:"p1"}`       | 200 OK, body `{token:"user-<id>-token",username:"u1"}`, user added to `users.json`                              |           |
| S6  | POST /api/register (missing)   | Rejects missing fields                             | POST `/api/register` with `{username:"u1"}`                     | 400 Bad Request `{ error: 'Username & password required' }`                                                     |           |
| S7  | POST /api/register (duplicate) | Rejects duplicate username                         | POST `/api/register` twice with same username                   | 400 Bad Request `{ error: 'Username already taken' }`                                                           |           |
| S8  | POST /api/login (success)      | Authenticates valid credentials                    | POST `/api/login` with correct `{username,password}`            | 200 OK `{ token:"user-<id>-token",username }`                                                                   |           |
| S9  | POST /api/login (failure)      | Rejects missing or invalid credentials             | POST `/api/login` with missing/incorrect fields                 | 400 for missing `{ error: 'Username & password required' }`, 401 for invalid `{ error: 'Invalid credentials' }` |           |
| S10 | GET /api/leaderboard           | Returns global leaderboard sorted by highScore     | GET `/api/leaderboard`                                          | 200 OK JSON array sorted descending by `highScore`                                                              |           |
| C1  | on game:start                  | Transitions from lobby to game UI                  | emit `game:start` with `{ promptTimer: 5 }`                     | hides lobby, shows game section; clears all text fields; disables answer input                                  |           |
| C2  | on player-update               | Renders live scoreboard                            | emit `player:update` with `[{name,lives,score}, …]`             | `#gamePlayerList li` count matches players; each `<li>` shows “name — X pts, Y ❤️”                              |           |
| C3  | on game:turn                   | Highlights active player and enables their input   | emit `game:turn` with `{ playerId, playerName }`                | matching `<li>` has `.active-turn`; `answerInput.disabled = false`; `turnTextEl` updated                        |           |
| C4  | on game:prompt                 | Displays prompt word and starts countdown          | emit `game:prompt` with `{ word:'chien', timer:4 }`             | `promptTextEl` shows 'chien'; `timerTextEl` starts counting down                                                |           |
| C5  | on player:correct              | Shows correct feedback and plays correct sound     | emit `player:correct` with `{ playerName:'A' }`                 | input highlights green; correct‐sound `.play()` called; `turnTextEl` updated                                    |           |
| C6  | on player:wrong                | Shows wrong feedback and plays wrong sound         | emit `player:wrong` with `{ playerName:'A' }`                   | input highlights red; wrong‐sound `.play()` called; turn does not advance                                       |           |
| C7  | on game:reveal                 | Reveals correct answer                             | emit `game:reveal` with `{ answer:'dog' }`                      | `revealTextEl` shows 'dog'                                                                                      |           |
| C8  | on player:eliminated           | Marks eliminated player in UI                      | emit `player:eliminated` with player name                       | corresponding `<li>` has class `.eliminated` (opacity+strike-through)                                           |           |
| C9  | on game:end                    | Displays end-game modal                            | emit `game:end`                                                 | `#game-end` modal becomes visible                                                                               |           |
| C10 | on game:leaderboard            | Populates match-only leaderboard                   | emit `game:leaderboard` with `[{name:'A',score:5},…]`           | end modal list shows “1. A — 5 pts” per entry; game section hidden                                              |           |
